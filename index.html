<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>COVID-GAME</title>
</head>

<body>
    <p>ゲームUIです。</p>
    <button onclick="clickBtn()">ボタンを押してください</button>
    
    <!--- JavaScriptインラインスクリプト -->
    <script type = "text/javascript" >
        function clickBtn() {
            alert('Javascriptを使ってアラートを表示しています！');
        }
        
        //console.log(b);
        function send(){
            const controller = new AbortController();
            fetch("http://"+ipAdress+":8888/"+"abc",{
                method: 'POST',
                body: "6",
                signal : controller.signal
            })
            //172.16.211.185
            //通信に失敗したエラー
            .then(async res => {
                if(!res.ok){
                    throw new Error(`Request Failed: ${res.status}`);
                }
            })
            .catch(e => {
                //timeoutの時
                if(e.name !== 'AbortError'){

                }
            });
            //TimeOutまでの時間(今は1000/30秒)
            setTimeout(() => {
                controller.abort();
            }, 1000/30);

        }

        ipAdress = "172.16.211.185";

        send();

    </script>   
</body>

</html>
